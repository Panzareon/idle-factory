@using IdleFactory.Data.Energy
<div class="grid" style="width:@(EnergyGrid.Width* GridSize)px;height:@(EnergyGrid.Height* GridSize)px;">
	@for (var i = 1; i < EnergyGrid.Width; i++)
	{
		<div class="grid-line grid-column" style="left:@(i* GridSize)px"/>
	}
	@for (var i = 1; i < EnergyGrid.Height; i++)
	{
		<div class="grid-line grid-row" style="top:@(i* GridSize)px" />
	}
	@foreach (var item in EnergyGrid.Items)
	{
		<div class="grid-item-wrapper" style="left:@(item.Position.X * GridSize)px;top:@(item.Position.Y*GridSize)px">
			<div class="grid-item @GetClassName(item)">
				@switch (item)
				{
					case Mirror mirror:
						@if (mirror.PositiveDirection)
						{
							<div class="mirror mirror-positive"/>
						}
						else
						{
							<div class="mirror mirror-negative" />
						}
						break;
				}
			</div>
		</div>
	}
	@foreach (var laser in EnergyGrid.CalculatedLaser)
	{
		@if (laser.Direction.X == 0)
		{
			<div class="laser laser-vertical" style="left:@(GetStartPositionX(laser) * GridSize)px; top:@(GetStartPositionY(laser) * GridSize)px; height:@(GetLength(laser) * GridSize)px" />
		}
		else
		{
			<div class="laser laser-horizontal" style="left:@(GetStartPositionX(laser) * GridSize)px; top:@(GetStartPositionY(laser) * GridSize)px; width:@(GetLength(laser) * GridSize)px" />
		}
	}
</div>
